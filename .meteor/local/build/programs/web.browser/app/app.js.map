{"version":3,"sources":["meteor://ðŸ’»app/client/components/clients_list.js","meteor://ðŸ’»app/client/components/header.js","meteor://ðŸ’»app/client/components/new_client.js","meteor://ðŸ’»app/client/main.js","meteor://ðŸ’»app/imports/collections/clients.js"],"names":["React","Component","module","watch","require","v","createContainer","Clients","ClientsList","renderRows","props","clients","map","ci","client","qr","atendido","toString","render","exportDefault","Meteor","subscribe","find","fetch","ReactDOM","Header","Match","QrReader","NewClient","state","error","delay","result","pendingRegister","handleScan","bind","handleEnviarCI","data","beep","setState","handleError","err","console","snd","Audio","play","event","preventDefault","log","refs","inputCI","value","call","inputQR","renderForm","width","ClientList","App","startup","document","querySelector","export","Mongo","check","methods","args","isnum","test","isvalid","insert","Collection"],"mappings":"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","file":"/app.js","sourcesContent":["import React, { Component } from 'react';\nimport { createContainer } from 'meteor/react-meteor-data';\nimport { Clients } from '../../imports/collections/clients';\n\nclass ClientsList extends Component {\n\n\trenderRows() {\n\n\t\treturn this.props.clients.map( client => {\n\n\t\t\tconst {ci,qr,atendido} = client;\n\t\t\treturn (\n\t\t\t\t<tr key={qr}>\n\t\t\t\t <td>{ci}</td>\n\t\t\t\t <td>{qr}</td>\n\t\t\t\t <td>{atendido.toString()}</td>\n\t\t\t\t</tr>\n\t\t\t\t);\n\t\t});\n\t}\n\n\n\trender() {\n\t\treturn (\n\t\t\t<table className=\"table\">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>CI</th>\n\t\t\t\t\t\t<th>Ficha</th>\n\t\t\t\t\t\t<th>Atendido</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t{this.renderRows()}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t);\n\t}\n}\n\nexport default createContainer( () => {\n\t\n\tMeteor.subscribe('clients');\n\n\treturn { clients: Clients.find({}).fetch() };\n\n\n}, ClientsList);","import React from 'react';\nimport ReactDOM from 'react-dom';\n\n\nconst Header = () => {\n\n\treturn (\n\t\t<nav className=\"nav navbar-default\">\n\t\t\t<div className=\"navbar-header\">\n\t\t\t\t<a className=\"navbar-brand\">Mi turno</a>\n\t\t\t</div>\n\t\t</nav>\t\n\t\t);\n};\n\nexport default Header;","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Match } from 'meteor/check';\nimport QrReader from 'react-qr-reader'\n\n\nclass NewClient extends Component {\n\n\n\tconstructor(props) {\n\n\t\tsuper(props);\n\t\tthis.state = { \n\t\t\terror: '',\n\t\t\tdelay: 300,\n      \t\tresult: 'No asignado',\n      \t\tpendingRegister: true\n\t\t};\n\n\t\tthis.handleScan = this.handleScan.bind(this);\n\t\tthis.handleEnviarCI = this.handleEnviarCI.bind(this);\n\t};\n\n\thandleScan(data){\n\n    if(data){\n      this.beep();\n      this.setState({\n        result: data,\n      })\n    }\n    }\n  \n    handleError(err){\n    \t\tconsole.error(err)\n    }\n\n    beep() {\n    var snd = new Audio(\"data:audio/wav;base64,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qJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=\");  \n    snd.play();\n\t}\n\n\n\thandleEnviarCI(event) {\n\t\tevent.preventDefault();\n\n\t\tconsole.log(this.refs.inputCI.value);\n\n\t\tMeteor.call('clients.insert', {'ci':this.refs.inputCI.value, 'qr':this.refs.inputQR.value, 'atendido':false}, (error) => {\n\n\t\t\tif (error) {\n\t\t\t\tthis.setState({ error: 'Error en el ingreso de datos' });\n\n\t\t\t} else {\n\t\t\t\tthis.setState({ error: ''});\n\t\t\t\tthis.refs.inputCI.value = '';\n\t\t\t\tthis.refs.inputQR.value = 'No asignado';\n\t\t\t\tthis.setState({pendingRegister:false});\n\t\t\t};\n\t\t});\n\n\t\tconsole.log(this.state.pendingRegister);\n\t}\n\n\trenderForm() {\n\n\t\treturn (\n\t\t\t<form onSubmit={this.handleEnviarCI.bind(this)}>\n\t\t\t\t<div className=\"from-group\">\n\t\t\t\t\t<label>Ingrese el NÃºmero de CI</label>\n\t\t\t\t\t<input ref=\"inputCI\" className=\"form-control\"/>\n\t\t\t\t\t<br/>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t        <QrReader\n\t\t\t\t          delay={this.state.delay}\n\t\t\t\t          onError={this.handleError}\n\t\t\t\t          onScan={this.handleScan}\n\t\t\t\t          style={{ width: '100%' }}\n\t\t\t\t          />\n\t\t\t\t        <input ref=\"inputQR\" className=\"form-control\" readOnly=\"true\" value={this.state.result}/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"text-danger\">{this.state.error}</div>\n\t\t\t\t<button className=\"btn btn-primary\">Nuevo cliente</button>\n\t\t\t</form>\n\t\t);\n\t};\n\n\n\n\trender() {\n\n\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t{ this.state.pendingRegister ? this.renderForm()  : null }\n\t\t\t\t</div>\n\t\t\t);\n\t};\n};\n\nexport default NewClient;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Meteor } from 'meteor/meteor';\n\nimport Header from './components/header';\nimport NewClient from './components/new_client';\n\nimport { Clients } from '../imports/collections/clients';\n\nimport ClientList from './components/clients_list';\n\nconst App = () => {\n\n\treturn (\n\t\t\t<div>\n\t\t\t\t<Header />\n\t\t\t\t<NewClient />\n\t\t\t\t<ClientList />\n\t\t\t</div>\n\t\t);\n};\n\nMeteor.startup( () => {\n\tReactDOM.render(<App />, document.querySelector('.render-target'));\n});","import { Mongo } from 'meteor/mongo';\nimport { Match, check } from 'meteor/check';\n\nMeteor.methods({\n\n\t'clients.insert': function(args) {\n\n\t\tvar isnum = /^\\d+$/.test(args.ci);\n\t\tvar isvalid = (args.qr != \"No asignado\");\n\n\t\tconsole.log(args);\n\n\t\tcheck(isnum,true);\n\t\tcheck(isvalid,true);\n\n\n\t\tClients.insert(args);\n\n\t}\n\n});\n\nexport const Clients = new Mongo.Collection('clients');"]}